<!-- order.html -->
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>訂單明細</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- 省略樣式 -->
</head>
<body>
<header>
  <h2>目前訂單</h2>
</header>

<table>
  <thead>
    <tr>
      <th>品項</th>
      <th>數量</th>
      <th>備註</th>
      <th>小計</th>
    </tr>
  </thead>
  <tbody id="orderDetails"></tbody>
</table>
<div>
  總金額: $<span id="totalPrice">0</span>
</div>

<!-- 也可以再加一個返回Button -->
<button onclick="goBackMenu()">返回Menu</button>

<script>
function goBackMenu(){
  window.location.href = "index.html";
}

window.onload = function(){
  let orderStr = localStorage.getItem("currentOrder");
  if(!orderStr){
    alert("目前沒有訂單可顯示");
    return;
  }

  let orders = JSON.parse(orderStr);
  let tbody = document.getElementById("orderDetails");
  let total = 0;

  for(let itemName in orders){
    let data = orders[itemName];
    let subTotal = data.price * data.quantity;
    total += subTotal;
    let tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${itemName}</td>
      <td>${data.quantity}</td>
      <td>${data.remark || ""}</td>
      <td>$${subTotal}</td>
    `;
    tbody.appendChild(tr);
  }

  document.getElementById("totalPrice").innerText = total;
};
</script>
</body>
</html>